{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/home/paulo/Desktop/Private_Blockchain/Web/WebApp/pages/data/show.js\";\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { Component } from \"react\";\nimport { Form, Button, Message, Table, Grid } from \"semantic-ui-react\";\nimport Layout from \"../../components/Layout\";\nimport getEvents from \"../../components/getEvents\";\nimport getTags from \"../../components/getTags\";\nimport decodeData from \"../../components/decodeData\";\n\nclass Show extends Component {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"state\", {\n      buyer_add: \"\",\n      errorMessage: \"\",\n      successMessage: \"\",\n      loading: false\n    });\n\n    _defineProperty(this, \"onSubmit\", async event => {\n      event.preventDefault();\n      this.setState({\n        loading: true,\n        errorMessage: \"\",\n        successMessage: \"\"\n      });\n      const timestamp = +new Date();\n      console.log(timestamp);\n      const dataID = parseInt(e.topics[2], 16); // const addressFrom = buyer_add;\n      // const transferValue = cost;\n      // const recipient = \"0x\" + e.topics[1].substr(26, 64).toUpperCase();\n\n      console.log(dataID); // console.log(addressFrom);\n      // console.log(transferValue);\n      // console.log(recipient);\n    });\n  }\n\n  static async getInitialProps(props) {\n    const address = props.query.address;\n    const results = await getEvents();\n    const decodedEvents = results.events;\n\n    const aux = item => item.transactionHash === address;\n\n    const index = decodedEvents.findIndex(aux);\n    const event = decodedEvents[index];\n    return {\n      event\n    };\n  }\n\n  render() {\n    const e = this.props.event;\n    const colour = \"yellow\";\n    const dataType = getTags(e);\n    const decodedData = decodeData(e);\n    const timestamp = new Date(parseInt(decodedData[1])).toLocaleString();\n    const cost = decodedData[2]._hex;\n    return /*#__PURE__*/_jsxDEV(Layout, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(Table, {\n          color: colour,\n          children: [/*#__PURE__*/_jsxDEV(Table.Header, {\n            children: /*#__PURE__*/_jsxDEV(Table.Row, {\n              children: [/*#__PURE__*/_jsxDEV(Table.HeaderCell, {\n                children: \"Property\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 58,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Table.HeaderCell, {\n                children: \"Value\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 59,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 57,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Table.Body, {\n            children: [/*#__PURE__*/_jsxDEV(Table.Row, {\n              children: [/*#__PURE__*/_jsxDEV(Table.Cell, {\n                children: \"Transaction Hash:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 65,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Table.Cell, {\n                children: e.transactionHash\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 66,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 64,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Table.Row, {\n              children: [/*#__PURE__*/_jsxDEV(Table.Cell, {\n                children: \"Block Hash:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 69,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Table.Cell, {\n                children: e.blockHash\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 70,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 68,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Table.Row, {\n              children: [/*#__PURE__*/_jsxDEV(Table.Cell, {\n                children: \"Block Number:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 73,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Table.Cell, {\n                children: e.blockNumber\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 74,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 72,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Table.Row, {\n              children: [/*#__PURE__*/_jsxDEV(Table.Cell, {\n                children: \"Data Owner:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 77,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Table.Cell, {\n                children: [\"0x\", e.topics[1].substr(26, 64).toUpperCase()]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 78,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 76,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Table.Row, {\n              children: [/*#__PURE__*/_jsxDEV(Table.Cell, {\n                children: \"Data Tags:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 81,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Table.Cell, {\n                children: dataType\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 82,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Table.Row, {\n              children: [/*#__PURE__*/_jsxDEV(Table.Cell, {\n                children: \"Data ID:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 85,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Table.Cell, {\n                children: parseInt(e.topics[2], 16)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 86,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 84,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Table.Row, {\n              children: [/*#__PURE__*/_jsxDEV(Table.Cell, {\n                children: \"Data Cost:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 89,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Table.Cell, {\n                children: [parseInt(cost, 16), \" ETH\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 90,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 88,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Table.Row, {\n              children: [/*#__PURE__*/_jsxDEV(Table.Cell, {\n                children: \"Timestamp:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 93,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Table.Cell, {\n                children: timestamp\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 94,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 92,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 13\n          }, this)]\n        }, colour, true, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          children: /*#__PURE__*/_jsxDEV(Grid.Row, {\n            children: [/*#__PURE__*/_jsxDEV(Grid.Column, {\n              width: 8,\n              children: /*#__PURE__*/_jsxDEV(Form, {\n                onSubmit: this.onSubmit,\n                error: !!this.state.errorMessage,\n                success: !!this.state.successMessage,\n                children: [/*#__PURE__*/_jsxDEV(Form.Input, {\n                  flex: true,\n                  label: {\n                    children: \"Your Address:\",\n                    style: {\n                      fontSize: '16px'\n                    }\n                  },\n                  placeholder: \"0xabcd1234\",\n                  id: \"buyer_add\",\n                  value: this.state.buyer_add,\n                  onChange: event => this.setState({\n                    buyer_add: event.target.value\n                  })\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 102,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"h4\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 110,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Message, {\n                  error: true,\n                  header: \"Oops!\",\n                  content: this.state.errorMessage\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 111,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Message, {\n                  success: true,\n                  header: \"Completed!\",\n                  content: this.state.successMessage\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 112,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 101,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 100,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Grid.Column, {\n              verticalAlign: \"middle\",\n              width: 5,\n              children: /*#__PURE__*/_jsxDEV(Button, {\n                loading: this.state.loading,\n                primary: true,\n                children: [\"Buy for \", parseInt(cost, 16), \" ETH\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 116,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 115,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default Show;","map":{"version":3,"sources":["/home/paulo/Desktop/Private_Blockchain/Web/WebApp/pages/data/show.js"],"names":["React","Component","Form","Button","Message","Table","Grid","Layout","getEvents","getTags","decodeData","Show","buyer_add","errorMessage","successMessage","loading","event","preventDefault","setState","timestamp","Date","console","log","dataID","parseInt","e","topics","getInitialProps","props","address","query","results","decodedEvents","events","aux","item","transactionHash","index","findIndex","render","colour","dataType","decodedData","toLocaleString","cost","_hex","blockHash","blockNumber","substr","toUpperCase","onSubmit","state","children","style","fontSize","target","value"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Form, Button, Message, Table, Grid } from \"semantic-ui-react\";\nimport Layout from \"../../components/Layout\";\nimport getEvents from \"../../components/getEvents\";\nimport getTags from \"../../components/getTags\";\nimport decodeData from \"../../components/decodeData\";\n\nclass Show extends Component {\n\n  state = {\n    buyer_add: \"\",\n    errorMessage: \"\",\n    successMessage: \"\",\n    loading: false,\n  };\n\n  static async getInitialProps(props) {\n    const address = props.query.address;\n    const results = await getEvents();\n    const decodedEvents = results.events;\n    const aux = (item) => item.transactionHash === address;\n    const index = decodedEvents.findIndex(aux);\n    const event = decodedEvents[index];\n    return { event };\n  }\n\n  onSubmit = async (event) => {\n    event.preventDefault();\n    this.setState({ loading: true, errorMessage: \"\", successMessage: \"\" });\n\n    const timestamp = +new Date();\n    console.log(timestamp);\n\n    const dataID = parseInt(e.topics[2], 16);\n    // const addressFrom = buyer_add;\n    // const transferValue = cost;\n    // const recipient = \"0x\" + e.topics[1].substr(26, 64).toUpperCase();\n\n    console.log(dataID);\n    // console.log(addressFrom);\n    // console.log(transferValue);\n    // console.log(recipient);\n  }\n\n  render() {\n    const e = this.props.event;\n    const colour = \"yellow\";\n    const dataType = getTags(e);\n    const decodedData = decodeData(e);\n    const timestamp = new Date(parseInt(decodedData[1])).toLocaleString();\n    const cost = decodedData[2]._hex;\n    return (\n      <Layout>\n        <div>\n          <Table color={colour} key={colour}>\n            <Table.Header>\n              <Table.Row>\n                <Table.HeaderCell>Property</Table.HeaderCell>\n                <Table.HeaderCell>Value</Table.HeaderCell>\n              </Table.Row>\n            </Table.Header>\n\n            <Table.Body>\n              <Table.Row>\n                <Table.Cell>Transaction Hash:</Table.Cell>\n                <Table.Cell>{e.transactionHash}</Table.Cell>\n              </Table.Row>\n              <Table.Row>\n                <Table.Cell>Block Hash:</Table.Cell>\n                <Table.Cell>{e.blockHash}</Table.Cell>\n              </Table.Row>\n              <Table.Row>\n                <Table.Cell>Block Number:</Table.Cell>\n                <Table.Cell>{e.blockNumber}</Table.Cell>\n              </Table.Row>\n              <Table.Row>\n                <Table.Cell>Data Owner:</Table.Cell>\n                <Table.Cell>0x{e.topics[1].substr(26, 64).toUpperCase()}</Table.Cell>\n              </Table.Row>\n              <Table.Row>\n                <Table.Cell>Data Tags:</Table.Cell>\n                <Table.Cell>{dataType}</Table.Cell>\n              </Table.Row>\n              <Table.Row>\n                <Table.Cell>Data ID:</Table.Cell>\n                <Table.Cell>{parseInt(e.topics[2], 16)}</Table.Cell>\n              </Table.Row>\n              <Table.Row>\n                <Table.Cell>Data Cost:</Table.Cell>\n                <Table.Cell>{parseInt(cost, 16)} ETH</Table.Cell>\n              </Table.Row>\n              <Table.Row>\n                <Table.Cell>Timestamp:</Table.Cell>\n                <Table.Cell>{timestamp}</Table.Cell>\n              </Table.Row>\n            </Table.Body>\n          </Table>\n          <Grid>\n            <Grid.Row>\n              <Grid.Column width={8}>\n                <Form onSubmit={this.onSubmit} error={!!this.state.errorMessage} success={!!this.state.successMessage}>\n                    <Form.Input\n                      flex\n                      label={{ children: \"Your Address:\", style:{ fontSize: '16px' } }}\n                      placeholder=\"0xabcd1234\"\n                      id=\"buyer_add\"\n                      value={this.state.buyer_add}\n                      onChange={(event) => this.setState({ buyer_add: event.target.value })}\n                    />\n                    <h4></h4>\n                    <Message error header=\"Oops!\" content={this.state.errorMessage} />\n                    <Message success header=\"Completed!\" content={this.state.successMessage} />\n                  </Form>\n              </Grid.Column>\n              <Grid.Column verticalAlign='middle' width={5}>\n                <Button loading={this.state.loading} primary>Buy for {parseInt(cost, 16)} ETH</Button>\n              </Grid.Column>\n            </Grid.Row>\n          </Grid>\n          </div>\n      </Layout>\n    );\n  }\n}\nexport default Show;\n"]},"metadata":{},"sourceType":"module"}