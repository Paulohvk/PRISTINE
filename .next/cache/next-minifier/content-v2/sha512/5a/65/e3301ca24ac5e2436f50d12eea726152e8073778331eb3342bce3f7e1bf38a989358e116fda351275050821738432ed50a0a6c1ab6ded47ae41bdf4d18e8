{"code":"_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[19],{\"+z+C\":function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/data/submit\",function(){return a(\"Tb0C\")}])},Tb0C:function(e,t,a){\"use strict\";a.r(t),function(e){var n=a(\"nKUr\"),r=a(\"o0o1\"),s=a.n(r),c=a(\"HaE+\"),i=a(\"1OyB\"),o=a(\"vuIU\"),u=a(\"JX7q\"),l=a(\"Ji7U\"),b=a(\"md7G\"),h=a(\"foSv\"),d=a(\"rePB\"),p=a(\"q1tI\"),f=a(\"vFsZ\"),m=a(\"TbSc\"),j=a(\"QetY\"),g=a(\"Ewas\"),y=a(\"RB2s\"),v=a(\"pi6U\"),x=a.n(v),O=(a(\"tnHP\"),a(\"5Yp1\"));a(\"8cHP\");function S(e){var t=function(){if(\"undefined\"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Object(h.a)(e);if(t){var r=Object(h.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(b.a)(this,a)}}var w=a(\"jSND\"),k=function(t){Object(l.a)(r,t);var a=S(r);function r(){var t;Object(i.a)(this,r);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return t=a.call.apply(a,[this].concat(o)),Object(d.a)(Object(u.a)(t),\"state\",{type:\"\",minPay:\"\",id:\"\",errorMessage:\"\",successMessage:\"\",loading:!1}),Object(d.a)(Object(u.a)(t),\"onSubmit\",function(){var a=Object(c.a)(s.a.mark((function a(n){var r,c,i,o,u,l,b,h,d,p,f;return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:n.preventDefault(),t.setState({loading:!0,errorMessage:\"\",successMessage:\"\"}),r=+new Date,console.log(r),a.t0=t.state.type.toLowerCase(),a.next=\"temp\"===a.t0?7:\"hum\"===a.t0?9:\"both\"===a.t0?11:\"pressure\"===a.t0?13:\"test\"===a.t0?15:17;break;case 7:return c=1,a.abrupt(\"break\",19);case 9:return c=2,a.abrupt(\"break\",19);case 11:return c=3,a.abrupt(\"break\",19);case 13:return c=4,a.abrupt(\"break\",19);case 15:return c=5,a.abrupt(\"break\",19);case 17:return c=0,a.abrupt(\"break\",19);case 19:return a.prev=19,i=\"0x0af773490541a1a32e6bce0ac319975b1f4734ca\",o=new e.from(\"6ceeebd2bf996d1998d2778bb86a1c200d4423f1443dc51ee52c92076380e97b\",\"hex\"),a.t1=y.a.utils,a.next=25,y.a.eth.getTransactionCount(i,\"pending\");case 25:return a.t2=a.sent,u=a.t1.toHex.call(a.t1,a.t2),l=x.a.forCustomChain(\"mainnet\",{name:\"localchain\",networkId:777,chainId:777},\"petersburg\"),b=g.a.methods.EmitEvent(t.state.type,r.toString(),t.state.minPay,t.state.id,c).encodeABI(),h={nonce:u,from:i,gasLimit:y.a.utils.toHex(1e5),gasPrice:y.a.utils.toHex(1e10),to:g.a._address,data:b},(d=new w.Transaction(h,{common:l})).sign(o),p=d.serialize(),a.next=35,y.a.eth.sendSignedTransaction(\"0x\"+p.toString(\"hex\")).on(\"receipt\",console.log);case 35:f=a.sent,t.setState({successMessage:\"Transaction successfull, transaction hash: \"+f.transactionHash}),a.next=42;break;case 39:a.prev=39,a.t3=a.catch(19),t.setState({errorMessage:a.t3.message});case 42:t.setState({loading:!1});case 43:case\"end\":return a.stop()}}),a,null,[[19,39]])})));return function(e){return a.apply(this,arguments)}}()),t}return Object(o.a)(r,[{key:\"render\",value:function(){var e=this;return Object(n.jsx)(O.a,{children:Object(n.jsxs)(\"div\",{children:[Object(n.jsx)(\"h2\",{children:\"Welcome to the Events Contract!\"}),Object(n.jsxs)(\"h3\",{children:[\" \",\"Fill the form below to send data information to the blockchain:\",\" \"]}),Object(n.jsxs)(f.a,{onSubmit:this.onSubmit,error:!!this.state.errorMessage,success:!!this.state.successMessage,children:[Object(n.jsx)(f.a.Input,{fluid:!0,label:{children:\"Data Type:\",style:{fontSize:\"16px\"}},placeholder:\"Temp / Humidity / Both\",id:\"datatype\",value:this.state.type,onChange:function(t){return e.setState({type:t.target.value})}}),Object(n.jsx)(f.a.Input,{fluid:!0,label:{children:\"Minimum Payment (in Tokens): \",style:{fontSize:\"16px\"}},placeholder:\"Min. Payment\",value:this.state.minPay,onChange:function(t){return e.setState({minPay:t.target.value})}}),Object(n.jsx)(f.a.Input,{fluid:!0,label:{children:\"Serial number: \",style:{fontSize:\"16px\"}},placeholder:\"Serial Number\",value:this.state.id,onChange:function(t){return e.setState({id:t.target.value})}}),Object(n.jsx)(\"h4\",{}),Object(n.jsx)(m.a,{error:!0,header:\"Oops!\",content:this.state.errorMessage}),Object(n.jsx)(m.a,{success:!0,header:\"Completed!\",content:this.state.successMessage}),Object(n.jsx)(j.a,{loading:this.state.loading,primary:!0,children:\"Submit!\"})]})]})})}}]),r}(p.Component);t.default=k}.call(this,a(\"HDXh\").Buffer)}},[[\"+z+C\",0,2,1,3,4,6,5,8,9,10]]]);","map":{"version":3,"sources":["static/chunks/pages/data/submit-785e927b7c67c187b636.js"],"names":["_N_E","window","push","+z+C","module","exports","__webpack_require__","__NEXT_P","Tb0C","__webpack_exports__","r","Buffer","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__","_home_paulo_Desktop_Private_Blockchain_Web_WebApp_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__","_home_paulo_Desktop_Private_Blockchain_Web_WebApp_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default","n","_home_paulo_Desktop_Private_Blockchain_Web_WebApp_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__","_home_paulo_Desktop_Private_Blockchain_Web_WebApp_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_3__","_home_paulo_Desktop_Private_Blockchain_Web_WebApp_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_4__","_home_paulo_Desktop_Private_Blockchain_Web_WebApp_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__","_home_paulo_Desktop_Private_Blockchain_Web_WebApp_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_6__","_home_paulo_Desktop_Private_Blockchain_Web_WebApp_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_7__","_home_paulo_Desktop_Private_Blockchain_Web_WebApp_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_8__","_home_paulo_Desktop_Private_Blockchain_Web_WebApp_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_9__","react__WEBPACK_IMPORTED_MODULE_10__","semantic_ui_react__WEBPACK_IMPORTED_MODULE_11__","semantic_ui_react__WEBPACK_IMPORTED_MODULE_12__","semantic_ui_react__WEBPACK_IMPORTED_MODULE_13__","_Ethereum_contract__WEBPACK_IMPORTED_MODULE_14__","_Ethereum_web3__WEBPACK_IMPORTED_MODULE_15__","ethereumjs_common__WEBPACK_IMPORTED_MODULE_16__","ethereumjs_common__WEBPACK_IMPORTED_MODULE_16___default","_components_Layout__WEBPACK_IMPORTED_MODULE_18__","_createSuper","Derived","hasNativeReflectConstruct","Reflect","construct","sham","Proxy","Date","prototype","toString","call","e","_isNativeReflectConstruct","result","Super","Object","NewTarget","this","constructor","arguments","apply","Tx","Submit","_Component","_super","_this","_len","length","args","Array","_key","concat","type","minPay","id","errorMessage","successMessage","loading","_ref","a","mark","_callee","event","timestamp","tag","addressFrom","privateKey","nonceNumber","customCommon","myData","rawTx","tx","serializedTx","receipt","wrap","_context","prev","next","preventDefault","setState","console","log","t0","state","toLowerCase","abrupt","from","t1","utils","eth","getTransactionCount","t2","sent","toHex","forCustomChain","name","networkId","chainId","methods","EmitEvent","encodeABI","nonce","gasLimit","gasPrice","to","_address","data","Transaction","common","sign","serialize","sendSignedTransaction","on","transactionHash","t3","message","stop","_x","key","value","_this2","children","onSubmit","error","success","Input","fluid","label","style","fontSize","placeholder","onChange","target","header","content","primary"],"mappings":"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"},"name":"static/chunks/pages/data/submit-785e927b7c67c187b636.js","input":"_N_E =\n(window[\"webpackJsonp_N_E\"] = window[\"webpackJsonp_N_E\"] || []).push([[19],{\n\n/***/ \"+z+C\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/data/submit\",\n      function () {\n        return __webpack_require__(\"Tb0C\");\n      }\n    ]);\n  \n\n/***/ }),\n\n/***/ \"Tb0C\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(Buffer) {/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"nKUr\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _home_paulo_Desktop_Private_Blockchain_Web_WebApp_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"o0o1\");\n/* harmony import */ var _home_paulo_Desktop_Private_Blockchain_Web_WebApp_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_home_paulo_Desktop_Private_Blockchain_Web_WebApp_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _home_paulo_Desktop_Private_Blockchain_Web_WebApp_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"HaE+\");\n/* harmony import */ var _home_paulo_Desktop_Private_Blockchain_Web_WebApp_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"1OyB\");\n/* harmony import */ var _home_paulo_Desktop_Private_Blockchain_Web_WebApp_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"vuIU\");\n/* harmony import */ var _home_paulo_Desktop_Private_Blockchain_Web_WebApp_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"JX7q\");\n/* harmony import */ var _home_paulo_Desktop_Private_Blockchain_Web_WebApp_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"Ji7U\");\n/* harmony import */ var _home_paulo_Desktop_Private_Blockchain_Web_WebApp_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(\"md7G\");\n/* harmony import */ var _home_paulo_Desktop_Private_Blockchain_Web_WebApp_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(\"foSv\");\n/* harmony import */ var _home_paulo_Desktop_Private_Blockchain_Web_WebApp_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(\"rePB\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(\"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var semantic_ui_react__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(\"vFsZ\");\n/* harmony import */ var semantic_ui_react__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(\"TbSc\");\n/* harmony import */ var semantic_ui_react__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(\"QetY\");\n/* harmony import */ var _Ethereum_contract__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(\"Ewas\");\n/* harmony import */ var _Ethereum_web3__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(\"RB2s\");\n/* harmony import */ var ethereumjs_common__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(\"pi6U\");\n/* harmony import */ var ethereumjs_common__WEBPACK_IMPORTED_MODULE_16___default = /*#__PURE__*/__webpack_require__.n(ethereumjs_common__WEBPACK_IMPORTED_MODULE_16__);\n/* harmony import */ var ethereumjs_util__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(\"tnHP\");\n/* harmony import */ var ethereumjs_util__WEBPACK_IMPORTED_MODULE_17___default = /*#__PURE__*/__webpack_require__.n(ethereumjs_util__WEBPACK_IMPORTED_MODULE_17__);\n/* harmony import */ var _components_Layout__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(\"5Yp1\");\n/* harmony import */ var _routes__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(\"8cHP\");\n/* harmony import */ var _routes__WEBPACK_IMPORTED_MODULE_19___default = /*#__PURE__*/__webpack_require__.n(_routes__WEBPACK_IMPORTED_MODULE_19__);\n\n\n\n\n\n\n\n\n\n\n\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = Object(_home_paulo_Desktop_Private_Blockchain_Web_WebApp_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_8__[/* default */ \"a\"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = Object(_home_paulo_Desktop_Private_Blockchain_Web_WebApp_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_8__[/* default */ \"a\"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return Object(_home_paulo_Desktop_Private_Blockchain_Web_WebApp_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_7__[/* default */ \"a\"])(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\n\n\n\n\n\n\n\n\n\n\nvar Tx = __webpack_require__(\"jSND\");\n\nvar Submit = /*#__PURE__*/function (_Component) {\n  Object(_home_paulo_Desktop_Private_Blockchain_Web_WebApp_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_6__[/* default */ \"a\"])(Submit, _Component);\n\n  var _super = _createSuper(Submit);\n\n  function Submit() {\n    var _this;\n\n    Object(_home_paulo_Desktop_Private_Blockchain_Web_WebApp_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"])(this, Submit);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    Object(_home_paulo_Desktop_Private_Blockchain_Web_WebApp_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_9__[/* default */ \"a\"])(Object(_home_paulo_Desktop_Private_Blockchain_Web_WebApp_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__[/* default */ \"a\"])(_this), \"state\", {\n      type: \"\",\n      minPay: \"\",\n      id: \"\",\n      errorMessage: \"\",\n      successMessage: \"\",\n      loading: false\n    });\n\n    Object(_home_paulo_Desktop_Private_Blockchain_Web_WebApp_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_9__[/* default */ \"a\"])(Object(_home_paulo_Desktop_Private_Blockchain_Web_WebApp_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__[/* default */ \"a\"])(_this), \"onSubmit\", /*#__PURE__*/function () {\n      var _ref = Object(_home_paulo_Desktop_Private_Blockchain_Web_WebApp_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"])( /*#__PURE__*/_home_paulo_Desktop_Private_Blockchain_Web_WebApp_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee(event) {\n        var timestamp, tag, addressFrom, privateKey, nonceNumber, customCommon, myData, rawTx, tx, serializedTx, receipt;\n        return _home_paulo_Desktop_Private_Blockchain_Web_WebApp_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                event.preventDefault();\n\n                _this.setState({\n                  loading: true,\n                  errorMessage: \"\",\n                  successMessage: \"\"\n                });\n\n                timestamp = +new Date();\n                console.log(timestamp);\n                _context.t0 = _this.state.type.toLowerCase();\n                _context.next = _context.t0 === \"temp\" ? 7 : _context.t0 === \"hum\" ? 9 : _context.t0 === \"both\" ? 11 : _context.t0 === \"pressure\" ? 13 : _context.t0 === \"test\" ? 15 : 17;\n                break;\n\n              case 7:\n                tag = 1;\n                return _context.abrupt(\"break\", 19);\n\n              case 9:\n                tag = 2;\n                return _context.abrupt(\"break\", 19);\n\n              case 11:\n                tag = 3;\n                return _context.abrupt(\"break\", 19);\n\n              case 13:\n                tag = 4;\n                return _context.abrupt(\"break\", 19);\n\n              case 15:\n                tag = 5;\n                return _context.abrupt(\"break\", 19);\n\n              case 17:\n                tag = 0;\n                return _context.abrupt(\"break\", 19);\n\n              case 19:\n                _context.prev = 19;\n                addressFrom = \"0x0af773490541a1a32e6bce0ac319975b1f4734ca\"; //\"0x1206D8C3c73e40c8AfD0D878bbaa28609F9A72a9\";\n\n                privateKey = new Buffer.from(\"6ceeebd2bf996d1998d2778bb86a1c200d4423f1443dc51ee52c92076380e97b\", //\"e8d1574304a68b5f794d33a842389350d93e49d46b6871571f9b64eaa53131ec\",\n                \"hex\");\n                _context.t1 = _Ethereum_web3__WEBPACK_IMPORTED_MODULE_15__[/* default */ \"a\"].utils;\n                _context.next = 25;\n                return _Ethereum_web3__WEBPACK_IMPORTED_MODULE_15__[/* default */ \"a\"].eth.getTransactionCount(addressFrom, \"pending\");\n\n              case 25:\n                _context.t2 = _context.sent;\n                nonceNumber = _context.t1.toHex.call(_context.t1, _context.t2);\n                //console.log(nonceNumber);\n                customCommon = ethereumjs_common__WEBPACK_IMPORTED_MODULE_16___default.a.forCustomChain(\"mainnet\", {\n                  name: \"localchain\",\n                  networkId: 777,\n                  chainId: 777\n                }, \"petersburg\");\n                myData = _Ethereum_contract__WEBPACK_IMPORTED_MODULE_14__[/* default */ \"a\"].methods.EmitEvent(_this.state.type, timestamp.toString(), _this.state.minPay, _this.state.id, tag).encodeABI();\n                rawTx = {\n                  nonce: nonceNumber,\n                  from: addressFrom,\n                  gasLimit: _Ethereum_web3__WEBPACK_IMPORTED_MODULE_15__[/* default */ \"a\"].utils.toHex(100000),\n                  gasPrice: _Ethereum_web3__WEBPACK_IMPORTED_MODULE_15__[/* default */ \"a\"].utils.toHex(10e9),\n                  to: _Ethereum_contract__WEBPACK_IMPORTED_MODULE_14__[/* default */ \"a\"]._address,\n                  data: myData\n                };\n                tx = new Tx.Transaction(rawTx, {\n                  common: customCommon\n                });\n                tx.sign(privateKey);\n                serializedTx = tx.serialize();\n                _context.next = 35;\n                return _Ethereum_web3__WEBPACK_IMPORTED_MODULE_15__[/* default */ \"a\"].eth.sendSignedTransaction(\"0x\" + serializedTx.toString(\"hex\")).on(\"receipt\", console.log);\n\n              case 35:\n                receipt = _context.sent;\n\n                _this.setState({\n                  successMessage: \"Transaction successfull, transaction hash: \" + receipt.transactionHash\n                }); // Router.pushRoute('/');\n\n\n                _context.next = 42;\n                break;\n\n              case 39:\n                _context.prev = 39;\n                _context.t3 = _context[\"catch\"](19);\n\n                _this.setState({\n                  errorMessage: _context.t3.message\n                });\n\n              case 42:\n                _this.setState({\n                  loading: false\n                });\n\n              case 43:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, null, [[19, 39]]);\n      }));\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }());\n\n    return _this;\n  }\n\n  Object(_home_paulo_Desktop_Private_Blockchain_Web_WebApp_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_4__[/* default */ \"a\"])(Submit, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(_components_Layout__WEBPACK_IMPORTED_MODULE_18__[/* default */ \"a\"], {\n        children: /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsxs\"])(\"div\", {\n          children: [/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"h2\", {\n            children: \"Welcome to the Events Contract!\"\n          }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsxs\"])(\"h3\", {\n            children: [\" \", \"Fill the form below to send data information to the blockchain:\", \" \"]\n          }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsxs\"])(semantic_ui_react__WEBPACK_IMPORTED_MODULE_11__[/* default */ \"a\"], {\n            onSubmit: this.onSubmit,\n            error: !!this.state.errorMessage,\n            success: !!this.state.successMessage,\n            children: [/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(semantic_ui_react__WEBPACK_IMPORTED_MODULE_11__[/* default */ \"a\"].Input, {\n              fluid: true,\n              label: {\n                children: \"Data Type:\",\n                style: {\n                  fontSize: '16px'\n                }\n              },\n              placeholder: \"Temp / Humidity / Both\",\n              id: \"datatype\",\n              value: this.state.type,\n              onChange: function onChange(event) {\n                return _this2.setState({\n                  type: event.target.value\n                });\n              }\n            }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(semantic_ui_react__WEBPACK_IMPORTED_MODULE_11__[/* default */ \"a\"].Input, {\n              fluid: true,\n              label: {\n                children: \"Minimum Payment (in Tokens): \",\n                style: {\n                  fontSize: '16px'\n                }\n              },\n              placeholder: \"Min. Payment\",\n              value: this.state.minPay,\n              onChange: function onChange(event) {\n                return _this2.setState({\n                  minPay: event.target.value\n                });\n              }\n            }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(semantic_ui_react__WEBPACK_IMPORTED_MODULE_11__[/* default */ \"a\"].Input, {\n              fluid: true,\n              label: {\n                children: \"Serial number: \",\n                style: {\n                  fontSize: '16px'\n                }\n              },\n              placeholder: \"Serial Number\",\n              value: this.state.id,\n              onChange: function onChange(event) {\n                return _this2.setState({\n                  id: event.target.value\n                });\n              }\n            }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"h4\", {}), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(semantic_ui_react__WEBPACK_IMPORTED_MODULE_12__[/* default */ \"a\"], {\n              error: true,\n              header: \"Oops!\",\n              content: this.state.errorMessage\n            }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(semantic_ui_react__WEBPACK_IMPORTED_MODULE_12__[/* default */ \"a\"], {\n              success: true,\n              header: \"Completed!\",\n              content: this.state.successMessage\n            }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(semantic_ui_react__WEBPACK_IMPORTED_MODULE_13__[/* default */ \"a\"], {\n              loading: this.state.loading,\n              primary: true,\n              children: \"Submit!\"\n            })]\n          })]\n        })\n      });\n    }\n  }]);\n\n  return Submit;\n}(react__WEBPACK_IMPORTED_MODULE_10__[\"Component\"]);\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Submit);\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(\"HDXh\").Buffer))\n\n/***/ })\n\n},[[\"+z+C\",0,2,1,3,4,6,5,8,9,10]]]);","inputSourceMap":{"version":3,"sources":["/home/paulo/Desktop/Private_Blockchain/Web/WebApp/node_modules/next/dist/build/webpack/loaders/next-client-pages-loader.js?page=%2Fdata%2Fsubmit&absolutePagePath=private-next-pages%2Fdata%2Fsubmit.js!","/home/paulo/Desktop/Private_Blockchain/Web/WebApp/node_modules/next/dist/build/webpack/loaders/next-babel-loader.js??ref--4!/home/paulo/Desktop/Private_Blockchain/Web/WebApp/pages/data/submit.js"],"names":[],"mappings":";;;;;;;AACA;AACA;AACA;AACA,eAAe,mBAAO,CAAC,MAAmC;AAC1D;AACA;;;;;;;;;ACNA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAkD;AACF;AAC4E;AACe;AACJ;AACN;AACoB;AAC1B;AACkC;AACtB;AACA;;AAEvI,gCAAgC,6DAA6D,yCAAyC,aAAa,+JAAe,kBAAkB,iCAAiC,iBAAiB,+JAAe,mBAAmB,yDAAyD,EAAE,OAAO,uCAAuC,EAAE,QAAQ,0KAA0B,eAAe,GAAG;;AAEva,sCAAsC,wEAAwE,0CAA0C,8CAA8C,MAAM,wEAAwE,GAAG,aAAa,EAAE,YAAY,cAAc,EAAE;;AAEzR;AACiB;AACX;AACR;AACP;AACO;AACyB;AACnB;AACP;;AAEtC,SAAS,mBAAO,CAAC,MAAe;;AAEhC;AACA,EAAE,yJAAS;;AAEX;;AAEA;AACA;;AAEA,IAAI,+JAAe;;AAEnB,uEAAuE,aAAa;AACpF;AACA;;AAEA;;AAEA,IAAI,+JAAe,CAAC,sKAAsB;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL,IAAI,+JAAe,CAAC,sKAAsB;AAC1C,iBAAiB,iKAAiB,eAAe,+HAAmB;AACpE;AACA,eAAe,+HAAmB;AAClC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,iBAAiB;;AAEjB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,2EAA2E;;AAE3E;AACA;AACA,8BAA8B,+DAAI;AAClC;AACA,uBAAuB,+DAAI;;AAE3B;AACA;AACA;AACA;AACA,+BAA+B,yDAAM;AACrC;AACA;AACA;AACA,iBAAiB;AACjB,yBAAyB,mEAAQ;AACjC;AACA;AACA;AACA,4BAA4B,+DAAI;AAChC,4BAA4B,+DAAI;AAChC,sBAAsB,mEAAQ;AAC9B;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,uBAAuB,+DAAI;;AAE3B;AACA;;AAEA;AACA;AACA,iBAAiB,EAAE;;;AAGnB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,iBAAiB;;AAEjB;AACA;AACA;AACA,iBAAiB;;AAEjB;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;;AAEP;AACA;AACA;AACA,KAAK;;AAEL;AACA;;AAEA,EAAE,4JAAY;AACd;AACA;AACA;;AAEA,0BAA0B,6DAAI,CAAC,mEAAM;AACrC,+BAA+B,8DAAK;AACpC,kCAAkC,6DAAI;AACtC;AACA,WAAW,gBAAgB,8DAAK;AAChC;AACA,WAAW,gBAAgB,8DAAK,CAAC,kEAAI;AACrC;AACA;AACA;AACA,oCAAoC,6DAAI,CAAC,kEAAI;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA,aAAa,gBAAgB,6DAAI,CAAC,kEAAI;AACtC;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA,aAAa,gBAAgB,6DAAI,CAAC,kEAAI;AACtC;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA,aAAa,gBAAgB,6DAAI,SAAS,gBAAgB,6DAAI,CAAC,kEAAO;AACtE;AACA;AACA;AACA,aAAa,gBAAgB,6DAAI,CAAC,kEAAO;AACzC;AACA;AACA;AACA,aAAa,gBAAgB,6DAAI,CAAC,kEAAM;AACxC;AACA;AACA;AACA,aAAa;AACb,WAAW;AACX,SAAS;AACT,OAAO;AACP;AACA,GAAG;;AAEH;AACA,CAAC,CAAC,gDAAS;;AAEI,qEAAM,E","file":"x","sourcesContent":["\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/data/submit\",\n      function () {\n        return require(\"private-next-pages/data/submit.js\");\n      }\n    ]);\n  ","import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport _regeneratorRuntime from \"/home/paulo/Desktop/Private_Blockchain/Web/WebApp/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/paulo/Desktop/Private_Blockchain/Web/WebApp/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/home/paulo/Desktop/Private_Blockchain/Web/WebApp/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/paulo/Desktop/Private_Blockchain/Web/WebApp/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"/home/paulo/Desktop/Private_Blockchain/Web/WebApp/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/home/paulo/Desktop/Private_Blockchain/Web/WebApp/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"/home/paulo/Desktop/Private_Blockchain/Web/WebApp/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/paulo/Desktop/Private_Blockchain/Web/WebApp/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"/home/paulo/Desktop/Private_Blockchain/Web/WebApp/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from \"react\";\nimport { Form, Button, Message } from \"semantic-ui-react\";\nimport contract from \"../../Ethereum/contract\";\nimport web3 from \"../../Ethereum/web3\";\nimport { ethers } from \"ethers\";\nimport Common from \"ethereumjs-common\";\nimport { bufferToHex, privateToAddress } from \"ethereumjs-util\";\nimport Layout from \"../../components/Layout\";\nimport { Router } from '../../routes';\n\nvar Tx = require(\"ethereumjs-tx\");\n\nvar Submit = /*#__PURE__*/function (_Component) {\n  _inherits(Submit, _Component);\n\n  var _super = _createSuper(Submit);\n\n  function Submit() {\n    var _this;\n\n    _classCallCheck(this, Submit);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      type: \"\",\n      minPay: \"\",\n      id: \"\",\n      errorMessage: \"\",\n      successMessage: \"\",\n      loading: false\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onSubmit\", /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(event) {\n        var timestamp, tag, addressFrom, privateKey, nonceNumber, customCommon, myData, rawTx, tx, serializedTx, receipt;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                event.preventDefault();\n\n                _this.setState({\n                  loading: true,\n                  errorMessage: \"\",\n                  successMessage: \"\"\n                });\n\n                timestamp = +new Date();\n                console.log(timestamp);\n                _context.t0 = _this.state.type.toLowerCase();\n                _context.next = _context.t0 === \"temp\" ? 7 : _context.t0 === \"hum\" ? 9 : _context.t0 === \"both\" ? 11 : _context.t0 === \"pressure\" ? 13 : _context.t0 === \"test\" ? 15 : 17;\n                break;\n\n              case 7:\n                tag = 1;\n                return _context.abrupt(\"break\", 19);\n\n              case 9:\n                tag = 2;\n                return _context.abrupt(\"break\", 19);\n\n              case 11:\n                tag = 3;\n                return _context.abrupt(\"break\", 19);\n\n              case 13:\n                tag = 4;\n                return _context.abrupt(\"break\", 19);\n\n              case 15:\n                tag = 5;\n                return _context.abrupt(\"break\", 19);\n\n              case 17:\n                tag = 0;\n                return _context.abrupt(\"break\", 19);\n\n              case 19:\n                _context.prev = 19;\n                addressFrom = \"0x0af773490541a1a32e6bce0ac319975b1f4734ca\"; //\"0x1206D8C3c73e40c8AfD0D878bbaa28609F9A72a9\";\n\n                privateKey = new Buffer.from(\"6ceeebd2bf996d1998d2778bb86a1c200d4423f1443dc51ee52c92076380e97b\", //\"e8d1574304a68b5f794d33a842389350d93e49d46b6871571f9b64eaa53131ec\",\n                \"hex\");\n                _context.t1 = web3.utils;\n                _context.next = 25;\n                return web3.eth.getTransactionCount(addressFrom, \"pending\");\n\n              case 25:\n                _context.t2 = _context.sent;\n                nonceNumber = _context.t1.toHex.call(_context.t1, _context.t2);\n                //console.log(nonceNumber);\n                customCommon = Common.forCustomChain(\"mainnet\", {\n                  name: \"localchain\",\n                  networkId: 777,\n                  chainId: 777\n                }, \"petersburg\");\n                myData = contract.methods.EmitEvent(_this.state.type, timestamp.toString(), _this.state.minPay, _this.state.id, tag).encodeABI();\n                rawTx = {\n                  nonce: nonceNumber,\n                  from: addressFrom,\n                  gasLimit: web3.utils.toHex(100000),\n                  gasPrice: web3.utils.toHex(10e9),\n                  to: contract._address,\n                  data: myData\n                };\n                tx = new Tx.Transaction(rawTx, {\n                  common: customCommon\n                });\n                tx.sign(privateKey);\n                serializedTx = tx.serialize();\n                _context.next = 35;\n                return web3.eth.sendSignedTransaction(\"0x\" + serializedTx.toString(\"hex\")).on(\"receipt\", console.log);\n\n              case 35:\n                receipt = _context.sent;\n\n                _this.setState({\n                  successMessage: \"Transaction successfull, transaction hash: \" + receipt.transactionHash\n                }); // Router.pushRoute('/');\n\n\n                _context.next = 42;\n                break;\n\n              case 39:\n                _context.prev = 39;\n                _context.t3 = _context[\"catch\"](19);\n\n                _this.setState({\n                  errorMessage: _context.t3.message\n                });\n\n              case 42:\n                _this.setState({\n                  loading: false\n                });\n\n              case 43:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, null, [[19, 39]]);\n      }));\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }());\n\n    return _this;\n  }\n\n  _createClass(Submit, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return /*#__PURE__*/_jsx(Layout, {\n        children: /*#__PURE__*/_jsxs(\"div\", {\n          children: [/*#__PURE__*/_jsx(\"h2\", {\n            children: \"Welcome to the Events Contract!\"\n          }), /*#__PURE__*/_jsxs(\"h3\", {\n            children: [\" \", \"Fill the form below to send data information to the blockchain:\", \" \"]\n          }), /*#__PURE__*/_jsxs(Form, {\n            onSubmit: this.onSubmit,\n            error: !!this.state.errorMessage,\n            success: !!this.state.successMessage,\n            children: [/*#__PURE__*/_jsx(Form.Input, {\n              fluid: true,\n              label: {\n                children: \"Data Type:\",\n                style: {\n                  fontSize: '16px'\n                }\n              },\n              placeholder: \"Temp / Humidity / Both\",\n              id: \"datatype\",\n              value: this.state.type,\n              onChange: function onChange(event) {\n                return _this2.setState({\n                  type: event.target.value\n                });\n              }\n            }), /*#__PURE__*/_jsx(Form.Input, {\n              fluid: true,\n              label: {\n                children: \"Minimum Payment (in Tokens): \",\n                style: {\n                  fontSize: '16px'\n                }\n              },\n              placeholder: \"Min. Payment\",\n              value: this.state.minPay,\n              onChange: function onChange(event) {\n                return _this2.setState({\n                  minPay: event.target.value\n                });\n              }\n            }), /*#__PURE__*/_jsx(Form.Input, {\n              fluid: true,\n              label: {\n                children: \"Serial number: \",\n                style: {\n                  fontSize: '16px'\n                }\n              },\n              placeholder: \"Serial Number\",\n              value: this.state.id,\n              onChange: function onChange(event) {\n                return _this2.setState({\n                  id: event.target.value\n                });\n              }\n            }), /*#__PURE__*/_jsx(\"h4\", {}), /*#__PURE__*/_jsx(Message, {\n              error: true,\n              header: \"Oops!\",\n              content: this.state.errorMessage\n            }), /*#__PURE__*/_jsx(Message, {\n              success: true,\n              header: \"Completed!\",\n              content: this.state.successMessage\n            }), /*#__PURE__*/_jsx(Button, {\n              loading: this.state.loading,\n              primary: true,\n              children: \"Submit!\"\n            })]\n          })]\n        })\n      });\n    }\n  }]);\n\n  return Submit;\n}(Component);\n\nexport default Submit;"]}}