_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[19],{"+z+C":function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/data/submit",function(){return a("Tb0C")}])},Tb0C:function(e,t,a){"use strict";a.r(t),function(e){var n=a("nKUr"),r=a("o0o1"),s=a.n(r),c=a("HaE+"),i=a("1OyB"),o=a("vuIU"),u=a("JX7q"),l=a("Ji7U"),b=a("md7G"),h=a("foSv"),d=a("rePB"),p=a("q1tI"),f=a("vFsZ"),m=a("TbSc"),j=a("QetY"),g=a("Ewas"),y=a("RB2s"),v=a("pi6U"),x=a.n(v),O=(a("tnHP"),a("5Yp1"));a("8cHP");function S(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Object(h.a)(e);if(t){var r=Object(h.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(b.a)(this,a)}}var w=a("jSND"),k=function(t){Object(l.a)(r,t);var a=S(r);function r(){var t;Object(i.a)(this,r);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return t=a.call.apply(a,[this].concat(o)),Object(d.a)(Object(u.a)(t),"state",{type:"",minPay:"",id:"",errorMessage:"",successMessage:"",loading:!1}),Object(d.a)(Object(u.a)(t),"onSubmit",function(){var a=Object(c.a)(s.a.mark((function a(n){var r,c,i,o,u,l,b,h,d,p,f;return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:n.preventDefault(),t.setState({loading:!0,errorMessage:"",successMessage:""}),r=+new Date,console.log(r),a.t0=t.state.type.toLowerCase(),a.next="temp"===a.t0?7:"hum"===a.t0?9:"both"===a.t0?11:"pressure"===a.t0?13:"test"===a.t0?15:17;break;case 7:return c=1,a.abrupt("break",19);case 9:return c=2,a.abrupt("break",19);case 11:return c=3,a.abrupt("break",19);case 13:return c=4,a.abrupt("break",19);case 15:return c=5,a.abrupt("break",19);case 17:return c=0,a.abrupt("break",19);case 19:return a.prev=19,i="0x0af773490541a1a32e6bce0ac319975b1f4734ca",o=new e.from("6ceeebd2bf996d1998d2778bb86a1c200d4423f1443dc51ee52c92076380e97b","hex"),a.t1=y.a.utils,a.next=25,y.a.eth.getTransactionCount(i,"pending");case 25:return a.t2=a.sent,u=a.t1.toHex.call(a.t1,a.t2),l=x.a.forCustomChain("mainnet",{name:"localchain",networkId:777,chainId:777},"petersburg"),b=g.a.methods.EmitEvent(t.state.type,r.toString(),t.state.minPay,t.state.id,c).encodeABI(),h={nonce:u,from:i,gasLimit:y.a.utils.toHex(1e5),gasPrice:y.a.utils.toHex(1e10),to:g.a._address,data:b},(d=new w.Transaction(h,{common:l})).sign(o),p=d.serialize(),a.next=35,y.a.eth.sendSignedTransaction("0x"+p.toString("hex")).on("receipt",console.log);case 35:f=a.sent,t.setState({successMessage:"Transaction successfull, transaction hash: "+f.transactionHash}),a.next=42;break;case 39:a.prev=39,a.t3=a.catch(19),t.setState({errorMessage:a.t3.message});case 42:t.setState({loading:!1});case 43:case"end":return a.stop()}}),a,null,[[19,39]])})));return function(e){return a.apply(this,arguments)}}()),t}return Object(o.a)(r,[{key:"render",value:function(){var e=this;return Object(n.jsx)(O.a,{children:Object(n.jsxs)("div",{children:[Object(n.jsx)("h2",{children:"Welcome to the Events Contract!"}),Object(n.jsxs)("h3",{children:[" ","Fill the form below to send data information to the blockchain:"," "]}),Object(n.jsxs)(f.a,{onSubmit:this.onSubmit,error:!!this.state.errorMessage,success:!!this.state.successMessage,children:[Object(n.jsx)(f.a.Input,{fluid:!0,label:{children:"Data Type:",style:{fontSize:"16px"}},placeholder:"Temp / Humidity / Both",id:"datatype",value:this.state.type,onChange:function(t){return e.setState({type:t.target.value})}}),Object(n.jsx)(f.a.Input,{fluid:!0,label:{children:"Minimum Payment (in Tokens): ",style:{fontSize:"16px"}},placeholder:"Min. Payment",value:this.state.minPay,onChange:function(t){return e.setState({minPay:t.target.value})}}),Object(n.jsx)(f.a.Input,{fluid:!0,label:{children:"Serial number: ",style:{fontSize:"16px"}},placeholder:"Serial Number",value:this.state.id,onChange:function(t){return e.setState({id:t.target.value})}}),Object(n.jsx)("h4",{}),Object(n.jsx)(m.a,{error:!0,header:"Oops!",content:this.state.errorMessage}),Object(n.jsx)(m.a,{success:!0,header:"Completed!",content:this.state.successMessage}),Object(n.jsx)(j.a,{loading:this.state.loading,primary:!0,children:"Submit!"})]})]})})}}]),r}(p.Component);t.default=k}.call(this,a("HDXh").Buffer)}},[["+z+C",0,2,1,3,4,6,5,8,9,10]]]);