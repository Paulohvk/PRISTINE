_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[21],{N08F:function(e,t,n){"use strict";n.r(t);var a=n("o0o1"),r=n.n(a),c=n("HaE+"),s=n("nKUr"),i=n("1OyB"),o=n("vuIU"),l=n("Ji7U"),d=n("md7G"),u=n("foSv"),b=n("q1tI"),j=n("+6Dn"),p=n("QetY"),h=n("z8k1"),O=n("5Yp1"),m=n("8cHP"),f=n("ODbA"),v=n("ZoJ7"),x=n("rUnp");function k(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=Object(u.a)(e);if(t){var r=Object(u.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(d.a)(this,n)}}var N=function(e){Object(l.a)(n,e);var t=k(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"renderMarketPlace",value:function(){var e={color:"#33364d"},t=this.props.decodedEvents.map((function(t){var n=Object(v.a)(t),a=Object(x.a)(t),r=new Date(parseInt(a[1])).toLocaleString(),c=parseInt(a[2]._hex,16);return{header:t.transactionHash,meta:"Block: "+t.blockNumber,description:Object(s.jsx)(j.a,{verticalAlign:"middle",children:Object(s.jsxs)(j.a.Row,{children:[Object(s.jsxs)(j.a.Column,{floated:"left",width:13,children:[Object(s.jsxs)("div",{style:e,children:["From: 0x",t.topics[1].substr(26,64).toUpperCase()]}),Object(s.jsxs)("div",{style:e,children:["Tags: ",n]}),Object(s.jsxs)("div",{style:e,children:["ID: ",parseInt(t.topics[2],16)]}),Object(s.jsxs)("div",{style:e,children:["Cost: ",c," Tokens"]}),Object(s.jsxs)("div",{style:e,children:["Timestamp: ",r]})]}),Object(s.jsx)(j.a.Column,{floated:"right",width:3,children:Object(s.jsx)(m.Link,{route:"/data/".concat(t.transactionHash),children:Object(s.jsx)("a",{children:Object(s.jsx)(p.a,{content:"Buy this data",icon:"money",primary:!0})})})})]})}),fluid:!0,color:"yellow"}}));return Object(s.jsxs)("div",{children:[Object(s.jsx)(j.a,{verticalAlign:"middle",children:Object(s.jsxs)(j.a.Row,{children:[Object(s.jsxs)(j.a.Column,{floated:"left",width:13,children:[Object(s.jsx)("h3",{children:"Welcome to the Blockchain-powered Data Marketplace!"}),Object(s.jsxs)("h3",{children:["There are currently ",this.props.blockNumber," blocks in the blockchain."]}),Object(s.jsxs)("h3",{children:["Smart contract address: ",this.props.decodedEvents[0].address,"."]}),Object(s.jsxs)("h3",{children:["Event signature: ",this.props.decodedEvents[0].topics[0],"."]}),Object(s.jsxs)("h3",{children:["Showing a total of ",this.props.decodedEvents.length," events."]})]}),Object(s.jsx)(j.a.Column,{floated:"right",width:3,children:Object(s.jsx)(m.Link,{route:"/data/submit",children:Object(s.jsx)("a",{children:Object(s.jsx)(p.a,{content:"Submit Data",icon:"download",primary:!0})})})})]})}),Object(s.jsx)(h.a.Group,{items:t})]})}},{key:"render",value:function(){return Object(s.jsx)(O.a,{children:Object(s.jsx)("div",{children:this.renderMarketPlace()})})}}],[{key:"getInitialProps",value:function(){var e=Object(c.a)(r.a.mark((function e(){var t,n,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.a)();case 2:return t=e.sent,n=t.blockNumber,a=t.events,e.abrupt("return",{blockNumber:n,decodedEvents:a});case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),n}(b.Component);t.default=N},ODbA:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n("o0o1"),r=n.n(a),c=n("HaE+"),s=n("Ewas"),i=n("RB2s"),o=n("wDBh");function l(){return d.apply(this,arguments)}function d(){return(d=Object(c.a)(r.a.mark((function e(){var t,n,a,c,l,d;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new o.a.providers.Web3Provider(i.a.currentProvider),n=["event DataTransfer(string data_type, string timestamp, uint minPayment, address indexed source, uint indexed serialID, uint indexed tag)"],a=new o.a.Contract(s.a._address,n,t),(c=a.filters.DataTransfer()).fromBlock=0,c.toBlock="latest",e.next=8,t.getBlockNumber();case 8:return l=e.sent,e.next=11,t.getLogs(c);case 11:return d=e.sent.reverse(),e.abrupt("return",{blockNumber:l,events:d});case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},ZoJ7:function(e,t,n){"use strict";function a(e){var t="";switch(e.topics[3].slice(-1)){case"1":t="Temperature";break;case"2":t="Humidity";break;case"3":t="Temp and Humidity";break;case"4":t="Pressure";break;case"5":t="Test Data";break;default:t="Any"}return t}n.d(t,"a",(function(){return a}))},rUnp:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n("wDBh");function r(e){return(new a.a.utils.AbiCoder).decode(["string","string","uint"],e.data)}},t3xM:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/index_New",function(){return n("N08F")}])},z8k1:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var a=n("wx14"),r=n("dI71"),c=n("iuhU"),s=(n("17x9"),n("q1tI")),i=n.n(s),o=n("ZeOK"),l=n("ICNK"),d=n("Y53p"),u=n("H+2d"),b=n("5XkN"),j=n("MZgk");function p(e){var t=e.children,n=e.className,r=e.content,s=e.textAlign,b=Object(c.a)(Object(o.d)(s),"description",n),j=Object(l.a)(p,e),h=Object(d.a)(p,e);return i.a.createElement(h,Object(a.a)({},j,{className:b}),u.a.isNil(t)?r:t)}p.handledProps=["as","children","className","content","textAlign"],p.propTypes={};var h=p;function O(e){var t=e.children,n=e.className,r=e.content,s=e.textAlign,b=Object(c.a)(Object(o.d)(s),"header",n),j=Object(l.a)(O,e),p=Object(d.a)(O,e);return i.a.createElement(p,Object(a.a)({},j,{className:b}),u.a.isNil(t)?r:t)}O.handledProps=["as","children","className","content","textAlign"],O.propTypes={};var m=O;function f(e){var t=e.children,n=e.className,r=e.content,s=e.textAlign,b=Object(c.a)(Object(o.d)(s),"meta",n),j=Object(l.a)(f,e),p=Object(d.a)(f,e);return i.a.createElement(p,Object(a.a)({},j,{className:b}),u.a.isNil(t)?r:t)}f.handledProps=["as","children","className","content","textAlign"],f.propTypes={};var v=f;function x(e){var t=e.children,n=e.className,r=e.content,s=e.description,b=e.extra,p=e.header,O=e.meta,f=e.textAlign,k=Object(c.a)(Object(o.a)(b,"extra"),Object(o.d)(f),"content",n),N=Object(l.a)(x,e),y=Object(d.a)(x,e);return u.a.isNil(t)?u.a.isNil(r)?i.a.createElement(y,Object(a.a)({},N,{className:k}),Object(j.d)(m,(function(e){return{content:e}}),p,{autoGenerateKey:!1}),Object(j.d)(v,(function(e){return{content:e}}),O,{autoGenerateKey:!1}),Object(j.d)(h,(function(e){return{content:e}}),s,{autoGenerateKey:!1})):i.a.createElement(y,Object(a.a)({},N,{className:k}),r):i.a.createElement(y,Object(a.a)({},N,{className:k}),t)}x.handledProps=["as","children","className","content","description","extra","header","meta","textAlign"],x.propTypes={};var k=x,N=n("zmn3");function y(e){var t=e.centered,n=e.children,r=e.className,s=e.content,b=e.doubling,j=e.items,p=e.itemsPerRow,h=e.stackable,O=e.textAlign,m=Object(c.a)("ui",Object(o.a)(t,"centered"),Object(o.a)(b,"doubling"),Object(o.a)(h,"stackable"),Object(o.d)(O),Object(o.g)(p),"cards",r),f=Object(l.a)(y,e),v=Object(d.a)(y,e);if(!u.a.isNil(n))return i.a.createElement(v,Object(a.a)({},f,{className:m}),n);if(!u.a.isNil(s))return i.a.createElement(v,Object(a.a)({},f,{className:m}),s);var x=Object(N.a)(j,(function(e){var t,n=null!=(t=e.key)?t:[e.header,e.description].join("-");return i.a.createElement(g,Object(a.a)({key:n},e))}));return i.a.createElement(v,Object(a.a)({},f,{className:m}),x)}y.handledProps=["as","centered","children","className","content","doubling","items","itemsPerRow","stackable","textAlign"],y.propTypes={};var w=y,g=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))||this).handleClick=function(e){var n=t.props.onClick;n&&n(e,t.props)},t}return Object(r.a)(t,e),t.prototype.render=function(){var e=this.props,n=e.centered,r=e.children,s=e.className,j=e.color,p=e.content,h=e.description,O=e.extra,m=e.fluid,f=e.header,v=e.href,x=e.image,N=e.link,y=e.meta,w=e.onClick,g=e.raised,E=Object(c.a)("ui",j,Object(o.a)(n,"centered"),Object(o.a)(m,"fluid"),Object(o.a)(N,"link"),Object(o.a)(g,"raised"),"card",s),C=Object(l.a)(t,this.props),P=Object(d.a)(t,this.props,(function(){if(w)return"a"}));return u.a.isNil(r)?u.a.isNil(p)?i.a.createElement(P,Object(a.a)({},C,{className:E,href:v,onClick:this.handleClick}),b.a.create(x,{autoGenerateKey:!1,defaultProps:{ui:!1,wrapped:!0}}),(h||f||y)&&i.a.createElement(k,{description:h,header:f,meta:y}),O&&i.a.createElement(k,{extra:!0},O)):i.a.createElement(P,Object(a.a)({},C,{className:E,href:v,onClick:this.handleClick}),p):i.a.createElement(P,Object(a.a)({},C,{className:E,href:v,onClick:this.handleClick}),r)},t}(s.Component);g.handledProps=["as","centered","children","className","color","content","description","extra","fluid","header","href","image","link","meta","onClick","raised"],g.propTypes={},g.Content=k,g.Description=h,g.Group=w,g.Header=m,g.Meta=v}},[["t3xM",0,2,1,3,4,6,5,7,8]]]);